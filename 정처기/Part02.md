# Chapter01 데이터 입출력 구현

## 물리 데이터 저장소 모델 변환
논리데이터 저장소 -> 물리 데이터 저장소 모델로 변환하는 절차
```
1. 단위 개체를 테이블로 변환
2. 속성을 컬럼으로 변환
3. UID를 기본키로 변환
4. 관계를 외래키로 변환
5. 컬럼 유형과 길이 정의
6. 반정규화 수행
   - 테이블 통합
   - 테이블 분할(수평분할, 수직분할)
   - 중복 테이블 추가(집계 테이블 추가, 진행테이블 추가, 특정부분만을 포함하는 테이블 추가)
   - 컬럼 중복화
```

## 물리데이터 저장소 구성
### 1. 테이블 제약조건(Contstraint 설계)
- Cascade, Restricted, Nullify

### 2. 인덱스 설계
- 분포도 10~15% 이내의 경우 굿 
```
분포도 = 1/컬럼값 종류
분포도 = 컬럼 값의 평균 row수/테이블의 총 row수
```
적용 기준
- 범위 이상이더라도 부분 처리 목적인경우 적용
- 조회/출력 조건으로 사용되는 컬럼의 경우
- 인덱스 자동생성 기본 키와 unique 키의 제약조건을 사용할 경우

고려사항
- 자주 조합되어 사용되는 컬럼은 결합 인덱스로 생성(사용빈도, 유일성, 정렬 등에 유의하기)
- 넓은 범위를 인덱스 처리시 오히려 전체 ㄹ처리보다 많은 오버헤드로 작용할 수 있다!

### 3. 뷰 설계
#### 뷰속성
- `REPLACE` : 뷰가 이미 존재하는 경우 재생성
- `FORCE` : 기본 테이블의 존재 여부에 관계 없이 뷰 생성
- `NOFORCE` : 기본 테이블이 존재할 때만 뷰 생성
- `WITH CHECK OPTION` : 서브쿼리 내의 조건을 만족하는 행만 변경
- `WITH READ ONLY` : 데이터 조작어 작업 불가

### 4. 클러스터 설계
적용 기준
- 인덱스 처리 부담되는 넓은 분포도에 활용
- 대량의 범위를 자주 엑세스 하는 경우 적용
- 여러개의 테이블이 빈번하게 조인을 일으킬때

고려사항
- 검색 효율은 높이나 입력, 수정, 삭제 시는 부하가 증가

예시
- `단일 테이블 클러스터링` : 처리 범위가 넓어 문제가 발생하는 경우 
- `다중 테이블 클러스터링` : 조인이 많아 문제가 발생되는 경우

### 5. 파티션 설계 
- 장점 : 성능향상, 가용성 향상, 백업가능, 경합 감소(디스크 스트라이핑으로 입출력 성능 향상, 디스크 컨트롤러에 대한 경합의 감소)
   - `디스크 스트라이핑`? 성능 향상을 위해 데이터를 1개 이상의 디스크 드라이브에 저장하여 드라이브를 병렬로 사용할 수 있는 기술

- 종류
   - range 파티셔닝
   - hash 파티셔닝
   - list 파티셔닝
   - composite 파티셔닝 


### 6. 디스크 구성 설계 
- 입출력 경합을 최소화하여 데이터의 접근 성능을 향상시킨다.
- 파티션 수행 테이블은 별도로 분리한다.


## ORM 프레임 워크
- `ORM`: 관계형 데이터베이스와 객지프 언어간 호환되지 않는 데이터를 반환하는 프로그래밍 기법
- 객지 언어에서 사용하는 객체를 관계형 디비로 변환하여 테이블을 구성하는 데 활용된다.

```
- SQL Mapping : iBatis, MyBatis / 부분적 ORM
- OR Mapping : Hibernate  / 완전 ORM
```


## 프로시저
- 프로시저는 일련의 쿼리들을 마치 하나의 함수처럼 실행하기 위한 쿼리의 집합이다.
- 데이터베이스 내부에 저장되고 일정한 조건이 되면 자동으로 수행된다.

### 절차형 데이터 조작 프로시저
#### Oracle 기반 PL/SQL 개념
- 표준 sql을 기본으로 오라클에서 개발한 데이터 조작 언어이다.
- 오라클 기반의 모든 프로시저 작성에 사용되며 표준 SQL의 확장 기능이 우수하다.

#### PL/SQL 의 장점
- `컴파일 불필요` : 스크립트 생성 및 변경후 실행 가능
- `모듈화 기능` : 블록내에서 논리적을 ㅗ관련된 문장 그룹화 가능, 복잡한 문제에 대해 나눠진 모듈 집합으로 구성
- `절차적 언어 사용` : db 테이블과 레코드를 기반으로 하는 동적변수 선언 가능, 단일형 데이터 타입과 복합형 데이터타입 선언가능
- `에러처리` : 에러처리 루틴 사용가능

#### PL/SQL의 구성
- `선언부` : 실행부에서 참조할 모든 변수, 상수, CURSOR, EXCEPTION
- `실행부` : BEGIN과 END 사이에 기술되는 영역, 데이터를 처리할 SQL문과 PL/SQL 블록을 기술
- `예외부` : 실행부에서 에러가 발생했을 때 문장 기술

#### PL/SQL을 활용한 저장형 객체 활용
1. `저장된 프로시저`
   - 일련의 쿼리들을 마치 하나의 함수처럼 실행하기 위한 쿼리 집합
   - 매개변수를 받을 수 있고 반복적으로 사용할 수 있는 객체
   - 배치작업, 복잡한 트랜잭션을 수행하는 PL/SQL 문을 DB에 저장할 수 있도록 기능 제공
2. `저장된 함수`
3. `저장된 패키지`
4. `트리거` : 특정테이블에 데이터변경 이벤트 발생시 DBMS에서 자동적으로 실행되도록 구현된 프로그램

### PL/SQL 테스트
```
- DBMS_OUTPUT.DISABLE : 메세지 버퍼 내용 삭제
- DBMS_OUTPUT.ENABLE : 메세지 버퍼 내용 할당
- DBMS_OUTPUT.PUT
- DBMS_OUTPUT.PUT_LINE
- DBMS_OUTPUT.GET_LINE
- DBMS_OUTPUT.GET_LINES
```


쿼리의 성능 측정 : autotrace 활용



# Chapter02 통합구현
- 단위 모듈 구현 원리 : 정보은닉, 분할정복, 추상화, 모듈독립성(낮은 결합도, 높은 응집도)

#### 재사용
- `재공학` : 개선, 재활용
- `역공학` : 구조, 원리, 기술, 알고리즘을 역으로 분석하여 재구성
- `재개발` : 기존 시스템을 참조하여 완전히 새로운 시스템 개발, 추가, 변경


### 협업도구
- 아이디어공유 : 에버노트
- 디자인 공유 : 레드 펜
- 마인드 맵 : 마인드 마이스터
- 프로젝트 관리 : 트렐로, 레드마인, 지라


### 형상관리 도구
1. `CVS` : 중앙 집중형 서버 저장소를 두고 클라이언트가 접속해서 버전 관리를 실행
2. `SVN `: 중앙 집중형 클라이언트-서버 방식
3. `GIT` : 분산형 방식, 필요에 따라 중앙 집중형 방식으로도 운영 가능

# Chapter03 제품 소프트웨어 패키징

### 애플리케이션 패키징
- 기능식별 -> 모듈화 -> 빌드 -> 사용자환경분석 -> 패키징 적용 시험 -> 패키징 변경 개선
- 릴리즈 노트 : 배포 정보 공유, 업데이트 사항

### 애플리케이션 배포 도구
- `암호화` : 콘텐츠 및 라이선스를 암호화, 전자서명 (공개키기반구조(PKL), 대칭 비대칭 암호화, 전자서명)
- `키관리` : 콘텐츠를 암호화한 키에 대한 저장 및 배포기술(중앙집중형, 분산형)
- `식별기술` : 콘텐츠에 대한 식별 체계 표현 기술(DOI, URI)
- `저작권표현` : 라이선스(XrML/MPEG-21)
- `암호화 파일 생성`
- `정책관리` : 라이선스 발급 및 사용에 대한 정책표현 및 관리기술(XML, 콘텐츠 관리 시스템 -CMS)
- `크랙방지` : 크랙(복사방지, 조작보호 비활성화 등) (난독화, Secure DB)
- `인증` : (사용자/장비인증, SSO)

```
- 대칭암호화 : 동일키 / 비대칭 암호화 : 다른 키
- DOI : Digital Object Identifier 
- URI : Uniform Resource Identifier
- XrML : eXtensible Right Markup Language) : 디지털 콘텐츠/웹서비스 권리 조건을 표현한, XML기반 마크업 언어
- MPEG-21 : 멀티미디어 관련 요소기술들이 통일된 형태로 상호 운용성을 보장하는 멀티미디어 표준 규격
- XML : 다목적 마크업 언어
- CMS : Contents Management System, 콘텐츠 관리 기술
- 코드 난독화 : 역공학을 통한 공격을 막기 위해 프로그램의 소스코드를 알아보기 힘들게
```

### DRM : digital rights management
- 디지털 콘텐츠에 대한 권리정보를 지정하고 암호화 기술을 이용하여 허가된 사용자의 허가된 권한 범위 내에서 콘텐츠의 이용이 가능하도록 통제하는 기술
- 거래투명성, 사용규칙 제공, 자유로운 상거래 제공

![image](https://user-images.githubusercontent.com/61506233/105629069-2dadf000-5e84-11eb-9ace-267e4f95b9b8.png)
```
- 클리어링 하우스(Clearing House) : 저작권에 대한 사용 권한, 라이선스 발급, 사용량에 따른 결제 관리 등을 수행하는 곳
- 콘텐츠 제공자(Contents Provider) : 콘텐츠를 제공하는 저작권자
- 패키저(Packager) : 콘텐츠를 메타 데이터*​와 함께 배포 가능한 형태로 묶어 암호화하는 프로그램
      cf) 메타 데이터 : 데이터에 대한 속성 정보 등을 설명하기 위한 데이터
- 콘텐츠 분배자(Contents Distributor) : 암호화된 콘텐츠를 유통하는 곳이나 사람
- 콘텐츠 소비자(Customer) : 콘텐츠를 구매해서 사용하는 주체
- DRM 컨트롤러(Controller) : 배포된 콘텐츠의 이용 권한을 통제하는 프로그램
- 보안 컨테이너(Security Container) : 콘텐츠 원본을 안전하게 유통하기 위한 전자적 보안 장치
```

### 국제 표준 제품 품질 특성
2-64p~2-67p 다시보기

### 소프트웨어 공학 관련 법칙
```
브룩스의 법칙 : 인력이 추가된다고 개발 생산성이 향상되지 않으며 오히려 방해된다. 
파레토 법칙 : 테스트 원리 중 20프로의 모듈에서 80프로의 결함이 발견된다는 결합 집중의 원리
롱테일 법칙 : 파레토 법칙의 반대이론, 사소해보이는 80프로의 다수가 20프로의 소수 핵심보다도 뛰어난 가치를 창출해낸다.
```

### 소프트웨어 버전 관리 도구
- 공유폴더 방식(RCS, SCCS)
- 클라이언트/서버 방식(CVS, SVN)
- 분산 저장소 방식(Git, Bitkeeper)


### 빌드 자동화도구
빌드 : 소프트웨어를 생성하고 테스트하고 검사하여 배포하기위해 수행하는 행위의 집합
- 빌드 자동화도구 : 제품 소프트웨어 실행파일 생성을 자동화하기위해 저장소에 있는 소스를 자동으로 읽어 빌드후 테스트하고 검사하여 실행파일을 만드는 도구, CI와 관련
- 프로세스 : 컴파일 - 패키징 - 단위테스트 - 정적분석 - 리포팅 - 배포 - 최종빌드

#### 빌드 자동화 구성요소
- 형상 관리 서버에 저장된 소스코드를 주기적으로 가져와 컴파일, 단위테스트, 코드 검사 등의 과정을 수행하며 신규 또는 수정된 소스코드가 결함이 있는지의 여부를 지속적으로 검증
- 구성요소

|구성요소|설명 |도구|
|----|----|----|
|CI 서버 | 빌드 프로세스 관리 서버 | 젠킨스, Hudson|
|SCM| 소스코드 형상 관리 시스템 | SCN, Git|
|빌드도구 | 컴파일, 테스트, 정적분석 등을 통해 동작 가능한 소프트웨어 생성 | Ant, Maven|
|테스트 도구| 작성된 테스트 코드에 따라 자동으로 테스트를 수행해주는 도구, 빌드 도구의 스크립트에서 실행 | Junit, Selenium|
|테스트 커버리지 도구|테스트코드가 대상 소스코드에 대해 어느정도 커버하는지 분석 | Emma|
|인스펙션 도구 | 품질 판단 | CheckStyle, Cppcheck|


- 빌드 자동화 도구의 기능 : 컴파일, 컴포넌트 패키징(jar나 exe파일 같은 배포 가능한 컴포넌트를 묶는 작업), 파일조작, 테스트, 버전관리도구 통합, API 문서생성, 배포, 코드품질분석


### 자동화 도구 사례
젠킨스
- 서블릿 컨테이너 서버 기반으로 구동되는 시스템, git 등 지원
- 서블릿 컨네이너? 서블릿을 관리하고 동작시킬 수 있는 환경을 제공하는 서버프로그램
- 서블릿? 서블릿 컨테이너 위에서 작동하는 웹 서비스용 자바 인터페이스의 객체(애플리케이션)

그래들(Gradle)
- Groovy(JVM위에서 동작하는 동적 스크립트언어)와 유사한 도메인언어채용, 안스 공식빌드 자동화 시스템!
- 실행할 처리 명령을 모아 태스크로 만든 후 태스크 단위로 실행

# Chapter04 애플리케이션 테스트 관리


### 테스크 오라클
사전에 참값을 입력하여 테스트 참거짓 판단
- 종류 : 참오라클, 샘플링 오라클, 휴리스틱 오라클, 일관성 검사 오라클

### 테스트 레벨
- 단위테스트, 통합테스트, 시스템 테스트, 인수테스트(사용자,운영상,계약,규정 인수테스트,알파테스트, 베타테스트)

### 테스트 기법
- 화이트박스 테스트
- 블랙박스 테스트 : 동등분할 테스트, 경곗값 분석 테스트, 결정테이블 테스트, 상태전이 테스트, 유스케이스 테스트, 분류 트리 테스트, 페어와이즈  테스트, 원인결과 그래프테스트, 비교테스트

### 테스트 자동화 도구 유형
1. 정적 분석 도구
2. 테스트 실행 도구 : 데이터 주도 접근 방식, 키워드 주도 접근 방식
3. 성능 테스트 도구
4. 테스트 통제 도구

### 테스트장치 구성요소
애플리케이션 컴포넌트 및 모듈을 테스트하는 환경의 일부분으로, 테스트를 지원하기 위한 코드와 데이터를 말하며, 단위 또는 모듈 테스트에 사용하기 위해 코드 개발자가 작성
```
테스트 드라이버 : 상향식 테스트에 필요
테스트 스텁 : 하향식 테스트에 필요
테스트 슈트 : 대상 모듈, 테스트 케이스 집합
테스트 케이스: 입력 값, 실행조건, 기대 결과
테스트 스크립트:자동화된 스크립트 실행 절차
목 Mock 오브젝트:행위를 조건부로 사전에 입력
```

### 소스코드 품질 분석 도구
- 정적 분석 도구 : pmd, cppcheck, SonarQube, checkstyle, ccm, cobertura
- 동적 분석 도구 : Avalanche, Valgrind

### 소스코드 복잡도 분석
#### 맥케이브 회전 복잡도
- 소프트웨어의 제어 흐름을 그래프로 표현하고 소스코드의 복잡도를 정량적으로 나타내는 지표
- 특징 : 정량적 지표, 구조적 평가, 간접방식
- 측정방식
```
V(G) = E(Edge) - N(Node) + 2 
V(G) = P(조건 분기문) + 1
```

# Chapter05 인터페이스 구현
### EAI & ESB
- 시스템 인터페이스를 위해 내/외부 모듈 연계
#### 1. EAI(Enterprise App Integration) 방식
- 정보전달, 연계, 통합 가능케 하는 솔루션
1. `포인트 투 포인트`
2. `허브 앤 스포크` : 단일 접점의 허브 시스템을 통해 데이터 전송하는 중앙 집중식방식, 허브 장애시 전체 장애 발생
3. `메시지 버스`
4. `하이브리드` : 그룹 내는 허브 앤 스포크 방식을 사용하고, 그룹 간에는 메시지 버스 방식 사용

#### 2. ESB(Enterprise Service Bus) 방식
- 하나의 시스템으로 관리/운영할 수 있도록 서비스 중심 통합 아키텍쳐/기술
- bus 중심으로 각 프로토콜이 호환 가능하도록 APP의 통합을 낮은 결합(다른 서비스에 영향 주지않도록) 방식으로 지원

### 데이터베이스 암호화 기법
- `API 방식` : 애플리케이션 레벨에서, 암호모듈(API)을 적용하는 애플리케이션 수정 방식
- `Plug-in 방식` : DB 레벨의, 확장성 프러시저 기능 이용. DBMS에 Plug-in 모듈로 동작
- `Hybrid 방식` : API +Plug-in 결합 방식, DB서버와 애플리케이션 서버로 부하 분산

### 중요 인터페이스 데이터의 암호화 전송
- 민감한 정보를 통신채널을 통하여 전송 시에는 반드시 암호화복호화 과정을 거쳐야함
- 인터페이스 보안 기능은 일반적으로 네트워크, 애플리케이션, 데이터 베이스 영역에 적용한다.
#### 기술
- `IPSec`
    - IP계층(3계층) 보안을 위한 표준화
    - 양 종단 간 또는 보안/터널 게이트웨이에 보안 서비스를 제공해 주는 IP 계층 보안 프로토콜.
    - IP 계층에서 서비스하므로 상위 계층 프로그램의 변경이 불필요하며 암호화된 패킷은 보통의 IP 패킷과 동일한 형태이므로 네트워크 상에서 라우팅이 가능함.
    - AH와 ESP를 통해 IP 데이터그램의 인증, 무결성, 기밀성 등을 제공.
- `SSL`(Secure Socket Layer)
    - 클라이언트-서버 환경에서 TCP 기반의 어플리케이션에 대한 종단간 보안 서비스를 제공하기 위해 만들어진 전송계층 보안 프로토콜.
    - 전송계층(4계층)의 TCP와 어플리케이션계층(7개층) 사이에서 동작함.
    - 각 어플리케이션이 SSL을 사용할 경우 그렇지 않은 경우와 구분하기 위해 고유한 포트를 할당 함. 예: https(443/tcp), smtps(465/tcp), ftps(990/tcp), telnets(992/tcp)
    - 기밀성(대칭키 암호화 방식 사용), 무결성(메시지 인증코드 MAC을 이용하여 송수신 메시지의 무결성 확인), 인증(공개키 인증서를 이용하여 서버-클라이언트 상호간 인증)을 제공.
    - 인증모드 종류 : 익명모드, 서버인증모드, 클라이언트-서버인증 모드
- `S-HTTP` (Secure Hypertext Transfer Protocol)
    - 웹상에서 네트워크 트래픽 암호화
    - 클라이언트와 서버 간 전송되는 모든 메시지 암호화 하여 전송
    - 메시지 보호는 http 사용하는 app만 가능
 
 -> 정처기 내용보다 깊지만 읽어볼만한 것
- http://vnfmsehdy.blogspot.com/2016/08/27-vpn-ipsec-ssltls.html
- https://peemangit.tistory.com/307
- https://engineering.purdue.edu/kak/compsec/NewLectures/Lecture20.pdf
 
### 인터페이스 감시도구
- 애플리케이션 모니터링 툴(APM) 사용하여 동작 상태를 감시할 수 있다.
- DB, 웹앱의 트랜잭션과 변수 함수 로그 시스템 부하 등의 정보를 조회하고 커넥션풀 등 지속적인 모니터링이 필요한 자원을 효과적으로 관리할 수 있다.
종류
- `스카우터` : app에 대한 모니터링 및 DB Agent를 통해 오픈소스 DB 모니터링 기능, 인터페이스 감시 기능 제공
- `제니퍼` : app의 개발부터 테스트, 오픈, 운영, 안정화까지 전 생애주기 단계동안 성능 모니터링/분석해주는 apm 소프트웨어
 
 

### 인터페이스 수현 검증
- 인터페이스가 정상적으로 문제없이 작동하는지 확인하는 것
-검증도구
```
● xUnit : Java(Junit), C++(Cppunit) 등 다양한 언어를 지원하는 단위 테스트 프레임워크
● STAF : 서비스 호출 및 컴포넌트 재사용 등 다양한 환경을 지원하는 프레임워크
● Fitnesse : 웹 기반 테스트 케이스 설계, 실행, 결과 확인 등을 지원하는 프레임워크
● NTAF : Fitness의 장점인 협업 + STAF의 장점인 재사용 및 확장성 = NHN의 테스트 자동화 프레임워크
● Selenium : 다양한 브라우저 및 개발언어를 지원하는 웹 애플리케이션 프레임워크
● watir : Ruby 사용
```

- `AJAX` : js를 사용한 비동기 통신 기술로 클라이언트와 서버간에 xml 데이터를 주고 받는 기술
